// E155 Final Project
// Reem Alkhamis  & Sabrine Griffith
/////////////////////////////////////////////////////////////////////////////////////////////
#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include "SAM4S4B/SAM4S4B.h"

//////////////////////////////////////////////////////////////////////////////////////////////
// Accelerometer functions

void spiWrite(unsigned char address, unsigned char value){
    spiSendReceive16(address<<8 | value);
}
unsigned char spiRead(unsigned char address){
    return  spiSendReceive16(address<<8 | (1 <<15));
}

// sets the x and y values optianed from the accelerometer to x and y positions
// on the board
int scale(int val) {
     val=val/3000;
	 if (val>4){
		 return val=4;
	 }
	 else if (val<-4){
		 return val=-4;
	 }
	 else{
		 return val;
	}
}
    

/////////////////////////////////////////////////////////////////////////////////////////////
// given scale values from the accelerometer:
// the x and y are the pixel position on the pixel grid
// x coordinate (0 to WIDTH-1)
// y coordinate (0 to HEIGHT-1)
////////////////////////////////////////////////////////////////////////////////////////////
// global constants and variables:
#define MATRIX_WIDTH 32
#define MATRIX_HEIGHT 32
#define SPI_READY 6 
# define write 7
# define ACCELEN 9
# define dip1 32
# define dip2 33




char currentArray[32][32];
char actualArray[32][32];
char staticArray[32][32];
char newArray[32][32]; 
char sendArray[32][32];
int row_index;
int col_index;
int v_x;
int v_y;
int ov_x;
int ov_y;


	



/////////////////////////////////////////////////////////////////////
// different options for images
char staticbirdArray[32][32] = {
//    0    1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30   31
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 0
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 1
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 2
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'K'}, // 3
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K'}, // 4
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K'}, // 5
		 {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K'},
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K'}, // 6
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K'}, // 7
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'K'}, // 8
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'K'}, // 9
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'K'}, // 10
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 11
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 12
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 13
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 14
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 15
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'},// 16
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 17
     {'K', 'P', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 18
     {'P', 'P', 'P', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'K'}, // 19
     {'P', 'P', 'P', 'P', 'K', 'K', 'K', 'K', 'P','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'P'}, // 20
     {'P', 'W', 'P', 'P', 'P', 'K', 'K', 'P', 'P', 'P', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'P', 'K', 'K', 'K', 'P', 'P', 'W', 'P'}, // 21
     {'W', 'W', 'W', 'P', 'P', 'P', 'K', 'P', 'W', 'P', 'P', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'W', 'P', 'P', 'K', 'P', 'P', 'W', 'W', 'W'}, // 23
     {'W', 'W', 'W', 'W', 'P', 'P', 'P', 'K', 'W', 'W', 'W', 'P', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'W', 'W', 'W', 'K', 'P', 'P', 'W', 'W', 'W', 'W'}, // 24
     {'K', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'W', 'W', 'W', 'P', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'W', 'W', 'W', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'K'}, // 25
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'P', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'K', 'K'}, // 26
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'P', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 27  
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'P', 'P', 'P', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'} , // 28
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 29
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'K', 'P', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'} , // 30
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'P', 'K', 'K', 'K', 'K', 'K', 'P', 'P', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}  // 31
    
};
char birdArray[32][32] = {
//    0    1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30   31
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 0
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 1
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'B', 'B', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 2
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'C', 'C', 'C', 'B', 'K', 'K', 'K', 'K', 'K', 'K'}, // 3
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'K', 'K', 'K', 'K', 'C', 'W', 'W', 'W', 'W', 'B', 'K', 'K', 'K', 'K', 'K'}, // 4
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'B', 'K', 'K', 'B', 'C', 'W', 'W', 'W', 'W', 'W', 'B', 'K', 'K', 'K', 'K'}, // 5
		 {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'C', 'B', 'K', 'B', 'C', 'W', 'W', 'W', 'K', 'W', 'B', 'K', 'K', 'K', 'K'},
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'C', 'C', 'B', 'B', 'C', 'W', 'W', 'W', 'W', 'W', 'R', 'R', 'K', 'K', 'K'}, // 6
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'C', 'C', 'C', 'B', 'C', 'W', 'W', 'W', 'W', 'B', 'K', 'K', 'K', 'K', 'K'}, // 7
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'C', 'C', 'C', 'C', 'C', 'C', 'C', 'B', 'B', 'K', 'K', 'K', 'K', 'K', 'K'}, // 8
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'C', 'C', 'C', 'C', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K'}, // 9
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'B', 'C', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K'}, // 10
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'C', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 11
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'B', 'B', 'B', 'C', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 12
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'C', 'C', 'C', 'B', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 13
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'B', 'B', 'B', 'B', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 14
     {'B', 'B', 'B', 'B', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 15
     {'B', 'B', 'B', 'B', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'},// 16
     {'B', 'B', 'B', 'B', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 17
     {'B', 'B', 'B', 'B', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 18
     {'B', 'B', 'B', 'B', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 19
     {'W', 'W', 'W', 'W', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 20
     {'W', 'W', 'W', 'W', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 21
     {'W', 'W', 'W', 'W', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 23
     {'W', 'W', 'W', 'W', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 24
     {'W', 'W', 'W', 'W', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 25
     {'G', 'G', 'G', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 26
     {'G', 'G', 'G', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 27  
     {'G', 'G', 'G', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'} , // 28
     {'G', 'G', 'G', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 29
     {'G', 'G', 'G', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'} , // 30
     {'G', 'G', 'G', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}  // 31
    
};


char staticheartArray[32][32] = {
//    0    1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30   31
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 0
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 1
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 2
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 3
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 4
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 5
		 {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'},
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 6
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 7
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 8
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 9
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 10
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 11
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 12
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 13
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 14
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 15
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 16
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 17
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 18
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 19
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 20
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 21

     // 22
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 23
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 24
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 25
  
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 26
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 27
     // BLACK                 // CYAN                  // RED                        // GREEN                         // YELLOW               // PURPLE        
     {'B', 'B', 'B', 'B', 'B', 'C', 'C', 'C', 'C', 'C', 'W', 'W', 'W', 'W', 'W', 'W', 'G', 'G', 'G', 'G', 'G', 'G', 'Y', 'Y', 'Y', 'Y', 'Y', 'P', 'P', 'P', 'P', 'P'}, // 28
     {'B', 'B', 'B', 'B', 'B', 'C', 'C', 'C', 'C', 'C', 'W', 'W', 'W', 'W', 'W', 'W', 'G', 'G', 'G', 'G', 'G', 'G', 'Y', 'Y', 'Y', 'Y', 'Y', 'P', 'P', 'P', 'P', 'P'}, // 29
     {'B', 'B', 'B', 'B', 'B', 'C', 'C', 'C', 'C', 'C', 'W', 'W', 'W', 'W', 'W', 'W', 'G', 'G', 'G', 'G', 'G', 'G', 'Y', 'Y', 'Y', 'Y', 'Y', 'P', 'P', 'P', 'P', 'P'}, // 30
     {'B', 'B', 'B', 'B', 'B', 'C', 'C', 'C', 'C', 'C', 'W', 'W', 'W', 'W', 'W', 'W', 'G', 'G', 'G', 'G', 'G', 'G', 'Y', 'Y', 'Y', 'Y', 'Y', 'P', 'P', 'P', 'P', 'P'}  // 31
    
};
char heartArray[32][32] = {
//    0    1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30   31
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 0
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 1
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 2
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 3
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 4
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 5
		 {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'},
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 6
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 7
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 8
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 9
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 10
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 11
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 12
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 13
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 14
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 15
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 16
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 17
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 18
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 19
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 20
     {'K','K', 'K', 'K', 'K', 'K', 'K', 'K', 'K',    'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K',  'K',     'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 21

     // 22
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 23
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 24
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 25
  
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 26
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 27
     // BLACK                 // CYAN                  // RED                        // GREEN                         // YELLOW               // PURPLE        
     {'B', 'B', 'B', 'B', 'B', 'C', 'C', 'C', 'C', 'C', 'W', 'W', 'W', 'W', 'W', 'W', 'G', 'G', 'G', 'G', 'G', 'G', 'Y', 'Y', 'Y', 'Y', 'Y', 'P', 'P', 'P', 'P', 'P'}, // 28
     {'B', 'B', 'B', 'B', 'B', 'C', 'C', 'C', 'C', 'C', 'W', 'W', 'W', 'W', 'W', 'W', 'G', 'G', 'G', 'G', 'G', 'G', 'Y', 'Y', 'Y', 'Y', 'Y', 'P', 'P', 'P', 'P', 'P'}, // 29
     {'B', 'B', 'B', 'B', 'B', 'C', 'C', 'C', 'C', 'C', 'W', 'W', 'W', 'W', 'W', 'W', 'G', 'G', 'G', 'G', 'G', 'G', 'Y', 'Y', 'Y', 'Y', 'Y', 'P', 'P', 'P', 'P', 'P'}, // 30
     {'B', 'B', 'B', 'B', 'B', 'C', 'C', 'C', 'C', 'C', 'W', 'W', 'W', 'W', 'W', 'W', 'G', 'G', 'G', 'G', 'G', 'G', 'Y', 'Y', 'Y', 'Y', 'Y', 'P', 'P', 'P', 'P', 'P'}  // 31
    
};


char flowerArray[32][32] = {
	
//    0    1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30   31
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 0
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 1
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 2
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 3
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 4
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 5
		 {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'},
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 6
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'K', 'K', 'K', 'K', 'R', 'K', 'K', 'K', 'K', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 7
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'K', 'K', 'R', 'R', 'R', 'K', 'K', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 8
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 9
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 10
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 11
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 12
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 13
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 14
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 15
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'},// 16
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 17
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 18
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 19
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'G', 'K', 'K', 'K', 'K', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 20
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'G', 'G', 'K', 'K', 'K', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 21
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'G', 'G', 'G', 'K', 'K', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 23
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'G', 'G', 'G', 'G', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 24
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'G', 'G', 'G', 'G', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 25
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'G', 'G', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 26
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 27  
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 28
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 29
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 30
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'G', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}  // 31
    
};

char staticflowerArray[32][32] = {
	
//    0    1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30   31
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 0
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 1
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 2
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 3
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 4
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 5
		 {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'},
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 6
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'K', 'K', 'K', 'K', 'R', 'K', 'K', 'K', 'K', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 7
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'K', 'K', 'R', 'R', 'R', 'K', 'K', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 8
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 9
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 10
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 11
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 12
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 13
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 14
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 15
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'},// 16
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'R', 'R', 'R', 'R', 'R', 'R', 'R', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 17
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 18
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 19
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 20
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 21
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 23
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 24
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'S', 'S', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 25
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'S', 'S', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 26
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 27  
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 28
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 29
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 30
     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'S', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}  // 31
    
};

// This function converts character to respective encoding to send to the FPGA.
char colorToChar(char color) {
                           //rgb
                if      (color  == 'K') return 0b000;  // black
                else if (color  == 'B') return 0b001;  // blue
                else if (color  == 'G') return 0b010;  // green
                else if (color  == 'C') return 0b011;  // cyan
                else if (color  == 'R') return 0b100;  // red
                else if (color  == 'P') return 0b101;  // purple
                else if (color  == 'Y') return 0b110;  // yellow
                else if (color  == 'W') return 0b111;  // white
								else return 0b0000;
  
}; 



// This function assigns arrays to each other.
void assignArray(char giveArray[32][32], char receiveArray[32][32]) {
	
	for (int i = 0; i < MATRIX_HEIGHT; i++) {
		for (int j = 0; j< MATRIX_WIDTH; j++) {
			receiveArray[i][j] = giveArray[i][j];
	}

}
	}


// This function clears the old array so that new iteration based on animation logic can be loaded.
void clear() {
	
	for (int i = 0; i < MATRIX_HEIGHT; i++) {
		for (int j = 0; j< MATRIX_WIDTH; j++) {
			if (staticArray[i][j] == 'S'){
				newArray[i][j] = 'S';
			} else {
					newArray[i][j] = 'E';

		}
	}
}
	}
// This function bounds a value to be between 0 and 31, or in other words the row and column slots available on the LED matrix.
int bound (int val){
	if (val<0) 
		return 0;
	else if (val>31)
		return 31;
	else
		return val;
}
	

// migh need to make this take two arguements 
bool inBound(int val) {
		bound(val);
	 return (val >= 0 && val < 32);
}


// This function controls the animation logic to move pixels on the LED matrix based on data from the accelerometer, obtained through SPI.
void animationLogic() {
			int index_i = row_index;
			int index_j = col_index;

			clear();
			for (int i = 0 ; i < MATRIX_HEIGHT; i++) {
				for (int j = 0; j<MATRIX_WIDTH; j++) {
								int bool_i = inBound(i+index_i);
								int bool_j = inBound(j+index_j);
					// If the image is in a "static" spot, it shouldn't move.
					if (currentArray[i][j] == 'S') { 
						newArray[i][j] = currentArray[i][j];

					// If the next pixel is "static", and the current spot holds some color, 
				  // keep the static spot as is and hold the current color in its current position.
					} else if (currentArray[i+index_i][j+index_j] == 'S'&& currentArray[i][j] != 'E') {
						newArray[i+index_i][j+index_j] = 'S';
						newArray[i][j] = currentArray[i][j];
					} 
					// If the current pixel is colored, not empty, and not static, then enter the if statements to check bounds.
					else if (currentArray[i][j] != 'K' && currentArray[i][j] != 'S'&& currentArray[i][j] != 'E'){
						// Checks if row of next pixel is in bound 
						if (bool_i) { // Row is in bound
								// Column is in bound
								if (bool_j) {
										if (currentArray[i+index_i][j+index_j] == 'E' && newArray[i+index_i][j+index_j] == 'E') {
										newArray[i+index_i][j+index_j] = currentArray[i][j];
										}
									// Column is in bound but the spot is not empty
									else if (currentArray[i+index_i][j+index_j] != 'E'  || newArray[i+index_i][j+index_j] != 'E') {
										newArray[i][j] = currentArray[i][j];
									// Column is out of bound
								}
							}		// Row is in bound, but column is out of bound, spot is empty
								else if (currentArray[i+index_i][j] == 'E' && newArray[i+index_i][j] == 'E' ) {
									newArray[i+index_i][j] = currentArray[i][j];
									// Row is in bound, but column is out of bound, spot is not empty
								} else if (currentArray[i+index_i][j] != 'E' || newArray[i+index_i][j] != 'E') {
										newArray[i][j] = currentArray[i][j];
								}
							}						
							// Row is out of bound, but column is in bound.
						 else if (bool_j){ 
										// Next spot is empty.
									if (currentArray[i][j+index_j] == 'E'&& newArray[i+index_i][j+index_j] == 'E') {
												newArray[i][j+index_j] = currentArray[i][j];
										// Next spot is not empty.
									} else if (currentArray[i][j+index_j] != 'E'|| newArray[i+index_i][j+index_j] != 'E' ) {
											newArray[i][j] = currentArray[i][j];
									}
								}
								//If none of above applies, hold position.
							else{ 
								newArray[i][j] = currentArray[i][j];
					}
			}
		
		}
	}	
	
			// Assigning the new array to current array, taking into consideraion static pixels.

				for (int  i = 0; i < MATRIX_HEIGHT; i++) {
					for (int j = 0; j< MATRIX_WIDTH; j++) {
						currentArray[i][j] = newArray[i][j];
						if (newArray[i][j] == 'S'){
							sendArray[i][j] = actualArray[i][j];
						} else {
						sendArray[i][j] = newArray[i][j];
						
						}
					}
				}

			
}


// This function sends the new RGB data for each row of the LED matrix through SPI to the FPGA.
void spiLogic() {
	for (uint16_t i = 0; i < MATRIX_HEIGHT; i++) {
			pioDigitalWrite(SPI_READY, PIO_HIGH);
			pioDigitalWrite(write, PIO_LOW);
			spiSendReceive(i); 
			for (int k =0; k < 8; k++) {
						int index = k*4;
						uint16_t rowdata = colorToChar(sendArray[i][index]) << 9 | colorToChar(sendArray[i][index+1]) << 6 | 
																colorToChar(sendArray[i][index+2]) << 3 | colorToChar(sendArray[i][index+3]);
						spiSendReceive(rowdata);
				}
				pioDigitalWrite(SPI_READY, PIO_LOW);
				pioDigitalWrite(write, PIO_HIGH);
				tcDelayMicroseconds(1000);
				pioDigitalWrite(write, PIO_LOW);
				
	}	
}

// This function takes in data from the accelerometer to get "velocities" to use to control the animation.
void speed(volatile short disx, volatile short disy) {
		ov_x = v_x;
		ov_y = v_y;
		v_x = -disx; 
		v_y = -disy;
		
}	

// This function determines how much each pixel should increment in the x direction, or in other words the displacement. 
void dispX(volatile short v_x, volatile short ov_x ) {
		
		 row_index = (v_x+ov_x)/2; 
}


// This function determines how much each pixel should increment in the y direction, or in other words the displacement. 
void dispY(volatile short v_y, volatile short ov_y ) {
		
		 col_index = (v_y+ov_y)/2; 
}

// Main
int main(void){
  volatile unsigned char debug;
	volatile short disx, disy;
  volatile short x,y, a, b, c, d;
		
	pioPinMode(ACCELEN, PIO_OUTPUT);
	pioPinMode(write, PIO_OUTPUT);
	pioPinMode(SPI_READY, PIO_OUTPUT);
	pioPinMode(dip1, PIO_INPUT);
	pioPinMode(dip2, PIO_INPUT);

  samInit();
  pioInit(); 
  // the phase for the SPI clock is 1 and the polarity is 0
  spiInit(MCK_FREQ/244000, 0, 1);
	tcDelayInit();
	

	// This determines which image to display based on the DIP switch. The default is the heart image.
	if (pioDigitalRead(dip1)){
		assignArray(staticbirdArray, staticArray);
		assignArray(birdArray, actualArray);
		}
	else if (pioDigitalRead(dip2)){
		assignArray(staticflowerArray, staticArray);
		assignArray(flowerArray, actualArray);
	}
	else{
		assignArray(staticheartArray, staticArray);
		assignArray(heartArray, actualArray);
		}
	// Load the chosen image that will be iterated on later with animation logic.
	assignArray(staticArray, currentArray);
		
	// The following code initializes the accelerometer. 
  pioDigitalWrite(ACCELEN, 0);
  spiWrite(0x20, 0x77); // highest conversion rate
  pioDigitalWrite(ACCELEN, 1);
  pioDigitalWrite(ACCELEN, 0);
  spiWrite(0x23, 0x88); // block update and high resolution
  pioDigitalWrite(ACCELEN, 1);
  
  //Read from WHO_AM_I register, should be 0x33.
  pioDigitalWrite(ACCELEN, 0);
  debug = spiRead(0x0F);
  pioDigitalWrite(ACCELEN, 1);
	
// Enter the while loop to begin iterating.
  while(1){
		// The following commands read tilt information from the accelerometer.
        pioDigitalWrite(ACCELEN, 0);
        a = spiRead(0x28);
        pioDigitalWrite(ACCELEN, 1);
        pioDigitalWrite(ACCELEN, 0);
 
        b= spiRead(0x29);
        pioDigitalWrite(ACCELEN, 1);
        pioDigitalWrite(ACCELEN, 0);
 
        c= spiRead(0x2A);
                pioDigitalWrite(ACCELEN, 1);
       pioDigitalWrite(ACCELEN, 0);

       d= spiRead(0x2B);
				pioDigitalWrite(ACCELEN, 1);
				
		
         x = a | (b <<8);
				 y = c | (d <<8);

				
		// disx and disy represent scaled versions of the x and y values, as and and y could range from -16000 to 16000.
       disx = scale(x);
			 disy = scale(y);
			 
			 // Need to set number of bits to send over SPI to 12 to send data to the FPGA using SPI.
			 SPI->SPI_CSR0.BITS = 4;
			 // Calculate velocities.
			 speed(disx, disy);
			 // Use those velocities to calculate displacement.
			 dispX(v_x, ov_x);
			 dispY(v_y, ov_y);
			 // Use those displacements to drive animation.
			 animationLogic();
			 // Send new, iterated matrix to FPGA to drive into LED matrix.
			 spiLogic();
			 // Set number of bits to send over SPI back to the default of 16 bits in order to communicate using SPI with the accelerometer.
			 SPI->SPI_CSR0.BITS = 0;

   
 
}



}


//// plain black array if needed

//char birdArray[32][32] = {
////    0    1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30   31
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 0
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 1
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 2
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 3
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 4
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 5
//		 {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'},
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 6
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 7
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 8
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 9
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 10
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 11
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 12
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 13
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 14
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 15
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'},// 16
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 17
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 18
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 19
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 20
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 21
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 23
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 24
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 25
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 26
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 27  
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 28
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 29
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}, // 30
//     {'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K', 'K'}  // 31
//    
//};
